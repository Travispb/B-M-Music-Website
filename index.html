<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B&M Music School | Home</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Montserrat:wght@700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'brand-dark': '#1a1a1a',
                        'brand-tan': '#d2b48c',
                    }
                }
            }
        }
    </script>
</head>
<body id="home-page" class="antialiased">

    <!-- Header & Navigation -->
    <header class="bg-brand-dark bg-opacity-80 backdrop-blur-md sticky top-0 z-50 shadow-lg shadow-black/20">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="index.html">
                <img src="images/B&M_Logo.JPG" alt="B&M Music School Logo" class="h-20">
            </a>
            <div class="hidden md:flex items-center space-x-8">
                <a href="index.html" class="nav-link text-lg active">Home</a>
                <a href="about.html" class="nav-link text-lg">About Us</a>
                <a href="team.html" class="nav-link text-lg">Our Team</a>
                <a href="lessons.html" class="nav-link text-lg">Lessons & Pricing</a>
                <a href="events.html" class="nav-link text-lg">Events</a>
                <a href="gallery.html" class="nav-link text-lg">Gallery</a>
                <a href="contact.html" class="nav-link text-lg">Contact</a>
            </div>
            <div class="hidden md:flex items-center space-x-6">
                <a href="https://bandm.mymusicstaff.com/Login" target="_blank" rel="noopener noreferrer" class="text-gray-300 hover:text-brand-tan font-medium transition duration-300 text-lg">Student Portal</a>
                <a href="contact.html#book-trial" class="bg-brand-tan text-gray-900 font-bold py-2 px-5 rounded-md hover:bg-opacity-90 transition duration-300">Book a Trial</a>
            </div>
            <div class="md:hidden">
                <button id="mobile-menu-button" class="text-white focus:outline-none">
                    <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-4 6h10"></path></svg>
                </button>
            </div>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden px-6 pb-4 space-y-2">
            <a href="index.html" class="block text-center py-2 nav-link mobile-nav-link active">Home</a>
            <a href="about.html" class="block text-center py-2 nav-link mobile-nav-link">About Us</a>
            <a href="team.html" class="block text-center py-2 nav-link mobile-nav-link">Our Team</a>
            <a href="lessons.html" class="block text-center py-2 nav-link mobile-nav-link">Lessons & Pricing</a>
            <a href="events.html" class="block text-center py-2 nav-link mobile-nav-link">Events</a>
            <a href="gallery.html" class="block text-center py-2 nav-link mobile-nav-link">Gallery</a>
            <a href="contact.html" class="block text-center py-2 nav-link mobile-nav-link">Contact</a>
            <a href="https://bandm.mymusicstaff.com/Login" target="_blank" rel="noopener noreferrer" class="block text-center py-2 nav-link mobile-nav-link">Student Portal</a>
            <a href="contact.html#book-trial" class="block text-center bg-brand-tan text-gray-900 font-bold mt-2 py-2 px-5 rounded-md hover:bg-opacity-90 transition duration-300">Book a Trial</a>
        </div>
    </header>

    <main>
        <!-- Hero Section -->
        <section class="relative py-28 bg-brand-dark flex items-center min-h-[400px]">
             <div class="absolute inset-0 bg-black bg-opacity-70 z-10"></div>
             <img src="images/miscPhoto/schoolPerformance.jpg" alt="Orchestra Performance" class="absolute inset-0 w-full h-full object-cover object-center">
            <div class="container mx-auto px-6 text-center relative z-20">
                <h1 class="text-5xl md:text-7xl font-extrabold text-white drop-shadow-lg">Tailored Learning, Designed for Success</h1>
                <p class="text-xl md:text-2xl mt-4 text-gray-200 max-w-3xl mx-auto drop-shadow-md">Nurturing the next generation of musicians with world-class faculty in a welcoming environment.</p>
                <a href="lessons.html" class="mt-8 inline-block bg-brand-tan text-gray-900 font-bold py-3 px-8 rounded-md text-lg hover:bg-opacity-90 transition duration-300 transform hover:scale-105">Discover Our Programs</a>
            </div>
        </section>
        <!-- Stats Section -->
        <div class="bg-[#222] py-16">
            <div class="container mx-auto px-6">
                <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center fade-in-section">
                    <div>
                        <p class="text-5xl font-extrabold text-brand-tan">400+</p>
                        <p class="mt-2 text-xl">Active Students</p>
                    </div>
                    <div>
                        <p class="text-5xl font-extrabold text-brand-tan">100%</p>
                        <p class="mt-2 text-xl">Exam Pass Rates</p>
                    </div>
                    <div>
                        <p class="text-5xl font-extrabold text-brand-tan">200+</p>
                        <p class="mt-2 text-xl">Public Performances</p>
                    </div>
                    <div>
                        <p class="text-5xl font-extrabold text-brand-tan">8+</p>
                        <p class="mt-2 text-xl">Years of Experience</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Testimonials Section -->
        <div class="bg-brand-dark pt-24 pb-20">
            <div class="container mx-auto px-6 text-center relative fade-in-section">
                <h2 class="text-4xl font-bold mb-4">What Our Families Say</h2>
                <p class="text-gray-300 max-w-2xl mx-auto mb-12">We go beyond teaching music - we ignite a lifelong passion for it in every student.</p>
                
                <div class="bg-[#2a2a2a] p-8 md:p-12 rounded-lg max-w-3xl mx-auto shadow-lg border border-gray-700 relative min-h-[24rem] flex flex-col justify-center">
                    <svg class="absolute top-0 left-0 -translate-x-4 -translate-y-4 w-16 h-16 text-brand-tan opacity-20" fill="currentColor" viewBox="0 0 32 32" aria-hidden="true">
                        <path d="M9.333 8.167h4.167l-2.5 5h3.333l-2.5 5h3.333v2.5h-5.833c-1.383 0-2.5-1.117-2.5-2.5v-7.5c0-1.383 1.117-2.5 2.5-2.5zM18.333 8.167h4.167l-2.5 5h3.333l-2.5 5h3.333v2.5h-5.833c-1.383 0-2.5-1.117-2.5-2.5v-7.5c0-1.383 1.117-2.5 2.5-2.5z"></path>
                    </svg>
                    
                    <div id="testimonial-carousel" class="flex-grow flex items-center">
                        <!-- Slide 1 -->
                        <div class="testimonial-slide w-full text-center transition-opacity duration-700 ease-in-out">
                            <p class="text-lg italic text-gray-300">"One of the best music schools in DFW area! Both my son Nicolas and ILan start their music journey at very young ages and keep progressed with the best learning experiences! They love all musical teachers here who are super knowledgeable and patient with young children. School also creates and offers numerous opportunities for young kids to perform on various stages and events. Highly recommended!"</p>
                            <p class="mt-6 font-bold text-brand-tan text-xl">- Nicolas & Ilan Trigubsky's Parents</p>
                        </div>
                        <!-- Slide 2 -->
                        <div class="testimonial-slide w-full text-center transition-opacity duration-700 ease-in-out hidden">
                             <p class="text-lg italic text-gray-300">"How lucky we are we chose B&M for my sonâ€™s piano journey. The teachers are so nice and patient in teaching and they devote to train the students solid basic skills in playing and theory. And they provide plenty of opportunities to perform on stage and festivals."</p>
                            <p class="mt-6 font-bold text-brand-tan text-xl">- Beibei Zuo</p>
                        </div>
                        <!-- Slide 3 -->
                        <div class="testimonial-slide w-full text-center transition-opacity duration-700 ease-in-out hidden">
                             <p class="text-lg italic text-gray-300">"Glad we found B&M. My son has taking piano lessons for over 2 years and makes significant improvement. Great school with excellent and professional teachers, helping students not only achieve musical goals but also enjoy playing music and grow with confidence. Every recital is encouraging and wonderful experience. Highly recommended."</p>
                            <p class="mt-6 font-bold text-brand-tan text-xl">- Linlin Yi</p>
                        </div>
                    </div>
                    
                    <!-- Dots Indicator -->
                    <div class="absolute bottom-6 left-1/2 -translate-x-1/2 flex space-x-3 z-10">
                        <button type="button" class="testimonial-dot w-3 h-3 rounded-full" data-slide-to="0"></button>
                        <button type="button" class="testimonial-dot w-3 h-3 rounded-full" data-slide-to="1"></button>
                        <button type="button" class="testimonial-dot w-3 h-3 rounded-full" data-slide-to="2"></button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- RCM Partnership Section -->
        <div class="bg-[#222] py-20 overflow-hidden">
            <div class="container mx-auto px-6 fade-in-section">
                 <div class="grid md:grid-cols-2 gap-12 items-center">
                    <div class="text-center md:text-left">
                        <h2 class="text-4xl font-bold mb-4">Partnership with The Royal Conservatory of Music</h2>
                        <p class="text-gray-300 mb-6 text-lg">At B&M Music School, weâ€™re proud to be an official partner of the Royal Conservatory of Music (RCM), one of the worldâ€™s most respected institutions for music education. Through this partnership, we provide our students with direct access to official RCM exam locations, ensuring a seamless and professional examination experience.</p>
                        <a href="https://www.rcmusic.com/learning/examinations" target="_blank" rel="noopener noreferrer" class="inline-block bg-brand-tan text-gray-900 font-bold py-3 px-8 rounded-md text-lg hover:bg-opacity-90 transition duration-300 transform hover:scale-105">Learn More</a>
                    </div>
                    <div class="flex justify-around items-center h-40">
                        <a href="index.html" class="transition-transform hover:scale-105">
                           <img src="images/B&M_Logo.JPG" alt="B&M Music School Logo" class="h-28 object-contain">
                        </a>
                        <div class="w-0.5 self-stretch bg-brand-tan"></div>
                        <a href="https://www.rcmusic.com/" target="_blank" rel="noopener noreferrer" class="transition-transform hover:scale-105">
                            <img src="images/rcmLogo.jpeg" alt="The Royal Conservatory of Music Logo" class="h-28 object-contain">
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Upcoming Events Section -->
        <div class="bg-brand-dark py-20">
            <div class="container mx-auto px-6 text-center fade-in-section">
                <h2 class="text-4xl font-bold mb-12">Events At a Glance</h2>
                <div id="upcoming-events-container" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto mb-8">
                    <!-- JS will populate this area -->
                    <div class="bg-[#2a2a2a] p-8 rounded-lg shadow-lg border border-gray-700 lg:col-span-3">
                         <p class="text-xl text-gray-300">Loading upcoming events...</p>
                    </div>
                </div>
                <a id="see-all-events-link" href="events.html" class="inline-block bg-brand-tan text-gray-900 font-bold py-3 px-8 rounded-md text-lg hover:bg-opacity-90 transition duration-300 transform hover:scale-105">See All Events</a>
            </div>
        </div>

        <!-- Final CTA -->
        <div class="bg-[#222] py-20">
            <div class="container mx-auto px-6 text-center fade-in-section">
                <h2 class="text-4xl font-bold mb-4">Join B&M Music School Today!</h2>
                <p class="text-gray-300 max-w-3xl mx-auto mb-8 text-lg">Since 2016, B&M Music School has been shaping the future of music by nurturing talent, fostering creativity, and delivering outstanding results. With a proven record of student success in competitions, auditions, and examinations, we set the gold standard for music education.</p>
                <a href="contact.html" class="inline-block bg-brand-tan text-gray-900 font-bold py-3 px-8 rounded-md text-lg hover:bg-opacity-90 transition duration-300 transform hover:scale-105">Contact Us</a>
            </div>
        </div>

    </main>

    <!-- Footer -->
    <footer class="bg-black text-gray-400">
        <div class="container mx-auto px-6 py-12">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center md:text-left">
                <div class="flex flex-col items-center md:items-start">
                    <img src="images/B&M_Logo.JPG" alt="B&M Music School Logo" class="h-24 mb-4">
                    <p>Where Excellence Meets Passion.</p>
                </div>
                
                <div>
                    <h4 class="font-bold text-white text-lg mb-4">Contact Information</h4>
                    <p>
                        <a href="mailto:bandmstudiollc@gmail.com" class="hover:text-brand-tan transition">bandmstudiollc@gmail.com</a>
                    </p>
                    <p class="mt-2">
                        <a href="tel:469-796-6412" class="hover:text-brand-tan transition">469-796-6412</a>
                    </p>
                </div>

                <div>
                    <h4 class="font-bold text-white text-lg mb-4">Our Location</h4>
                    <p>8760 Collin McKinney Pkwy</p>
                    <p>Suite 150</p>
                    <p>McKinney, TX 75070</p>
                </div>
            </div>
            <div class="border-t border-gray-800 mt-8 pt-6 text-center">
                 <p>&copy; 2025 B&M Music School. All Rights Reserved.</p>
                 <div class="mt-4 flex justify-center items-center space-x-6">
                    <a href="https://bandm.mymusicstaff.com/Login" target="_blank" rel="noopener noreferrer" class="hover:text-brand-tan transition">Student Portal</a>
                    <a href="https://www.google.com/search?q=b%26m+music+school&oq=B%26M+music+school&gs_lcrp=EgZjaHJvbWUqDAgAECMYJxiABBiKBTIMCAAQIxgnGIAEGIoFMg0IARAuGK8BGMcBGIAEMgcIAhAAGIAEMggIAxAAGBYYHjIICAQQABgWGB4yBggFEEUYPDIGCAYQRRg8MgYIBxBFGDzSAQgyMDQ2ajBqN6gCALACAA&sourceid=chrome&ie=UTF-8#lrd=0x864c3dec4882d4a5:0x2e2949c89a902104,1,,,," target="_blank" rel="noopener noreferrer" class="bg-brand-tan text-gray-900 font-bold py-2 px-5 rounded-md hover:bg-opacity-90 transition duration-300 text-sm">Leave a Review</a>
                 </div>
            </div>
        </div>
    </footer>
    
    <script src="script.js"></script>
    <script>
        // This script block is specific to the home page.
        document.addEventListener('DOMContentLoaded', () => {
            // Testimonial Carousel
            const testimonialContainer = document.querySelector('#testimonial-carousel');
            if (testimonialContainer) {
                const slides = testimonialContainer.querySelectorAll('.testimonial-slide');
                const dots = document.querySelectorAll('.testimonial-dot');
                let currentSlide = 0;
                let slideInterval;

                const showSlide = (index) => {
                    slides.forEach((slide, i) => {
                        slide.classList.toggle('hidden', i !== index);
                    });
                    dots.forEach((dot, i) => {
                        dot.classList.toggle('bg-white', i === index);
                        dot.classList.toggle('bg-gray-500', i !== index);
                    });
                    currentSlide = index;
                };

                const nextSlide = () => {
                    showSlide((currentSlide + 1) % slides.length);
                };

                dots.forEach((dot, index) => {
                    dot.addEventListener('click', () => {
                        showSlide(index);
                        clearInterval(slideInterval);
                        slideInterval = setInterval(nextSlide, 5000); // Restart interval
                    });
                });

                if (slides.length > 0) {
                    showSlide(0);
                    slideInterval = setInterval(nextSlide, 5000);
                }
            }
            
            // Fetch and display upcoming events
            const eventsContainer = document.getElementById('upcoming-events-container');
            const seeAllEventsLink = document.getElementById('see-all-events-link');
            if (eventsContainer) {
                fetch('events.html')
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('Network response was not ok');
                        }
                        return response.text();
                    })
                    .then(html => {
                        const parser = new DOMParser();
                        const eventsDoc = parser.parseFromString(html, 'text/html');
                        const eventCards = eventsDoc.querySelectorAll('.event-card');
                        const today = new Date();
                        today.setHours(0, 0, 0, 0);

                        const upcomingEvents = Array.from(eventCards)
                            .map(card => {
                                const dateStr = card.dataset.date;
                                if (!dateStr) return null;
                                const eventDate = new Date(dateStr + 'T00:00:00');
                                return { element: card, date: eventDate };
                            })
                            .filter(event => event && event.date >= today)
                            .sort((a, b) => a.date - b.date);
                        
                        eventsContainer.innerHTML = ''; // Clear loading message

                        if (upcomingEvents.length > 0) {
                            const nextThreeEvents = upcomingEvents.slice(0, 3);
                            // MODIFICATION START: Wrap event cards in links
                            nextThreeEvents.forEach(event => {
                                const eventId = event.element.dataset.date; // e.g., "2025-11-21"
                                const eventLink = document.createElement('a');
                                eventLink.href = `events.html#event-${eventId}`;

                                const clonedCard = event.element.cloneNode(true);
                                // The original card already has hover effects, so we can just use it.
                                eventLink.appendChild(clonedCard);
                                eventsContainer.appendChild(eventLink);
                            });
                            // MODIFICATION END
                        } else {
                            eventsContainer.innerHTML = `
                                <div class="bg-[#2a2a2a] p-8 rounded-lg shadow-lg border border-gray-700 lg:col-span-3">
                                    <p class="text-xl text-gray-300">No upcoming events at the moment. Check back soon for updates!</p>
                                </div>`;
                            if (seeAllEventsLink) seeAllEventsLink.style.display = 'none';
                        }
                    })
                    .catch(error => {
                        console.error('Error fetching or processing events:', error);
                        eventsContainer.innerHTML = `
                            <div class="bg-[#2a2a2a] p-8 rounded-lg shadow-lg border border-gray-700 lg:col-span-3">
                                <p class="text-xl text-red-500">Could not load events at this time.</p>
                            </div>`;
                    });
            }

            // Scroll-in animation for sections
            const sections = document.querySelectorAll('.fade-in-section');
            if (sections.length > 0) {
                const observer = new IntersectionObserver(entries => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('is-visible');
                        }
                    });
                }, { threshold: 0.1 });
                sections.forEach(section => {
                    observer.observe(section);
                });
            }
        });
    </script>
</body>
</html>
